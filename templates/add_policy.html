<!DOCTYPE html>
<html>
<head>
    <title>Add Policy</title>
    <link rel="stylesheet" href="/static/style.css">
    <script>
     function handlePolicyType(select) {
     const vehicleInput = document.querySelector('input[name="vehicle_number"]');

     if (select.value === "Mediclaim" || select.value === "Term Plan") {
        vehicleInput.value = "";
        vehicleInput.disabled = true;
     } else {
        vehicleInput.disabled = false;
     }
}
</script>

</head>
<body>

<div class="container">
    <h2>Add Policy</h2>

    <form action="/add_policy" method="POST">

        <input type="hidden" name="csrf_token" value="{{ session.csrf_token }}">
        <div class="field">
            <label>Name:</label>
            <input type="text" name="name" required>
        </div>

        <div class="field">
            <label>Policy holder Mobile Number:</label>
            <input type="text" name="customer_no" required>
        </div>

        <div class="field">
            <label>Type:</label>
            <select name="type" required onchange="handlePolicyType(this)">
                <option value="Two Wheeler">Two Wheeler</option>
                <option value="Motor">Motor</option>
                <option value="Mediclaim">Mediclaim</option>
                <option value="Term Plan">Term Plan</option>
            </select>
        </div>

        <div class="field">
            <label>Vehicle Number:</label>
            <input type="text" name="vehicle_number">
        </div>

        <div class="form-group">
            <label for="policy_number">Policy Number:</label>
            <input type="text" id="policy_number" name="policy_number" required>
        </div>

        <div class="field full">
            <label>Expiry Date:</label>
            <input type="date" name="expiry_date" required>
        </div>

        <div class="form-actions full button-row">
          <button type="submit">Add Policy</button>
          <button type="button" onclick="location.href='/policies'">View Policies</button>
        </div>

    </form>

</div>

</body>
</html>
